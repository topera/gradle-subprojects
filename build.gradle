// tested with gradle 6.0.1
allprojects { // 'allprojects' is here to replicate the 'apply plugin:java' to projectB and projectC
    apply plugin: 'java'
}

repositories {
    jcenter()
}

dependencies {
    implementation project(':projectB')
    testImplementation 'junit:junit:4.12'
}

test.dependsOn cleanTest
defaultTasks 'test'